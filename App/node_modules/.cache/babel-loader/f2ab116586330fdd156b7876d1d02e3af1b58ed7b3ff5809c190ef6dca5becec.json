{"ast":null,"code":"var _jsxFileName = \"/home/pes2ug22cs632/gen_ai/App/src/takeTest.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AlertCircle, ChevronRight, Clock, ChevronLeft, Flag, Bookmark } from 'lucide-react';\nimport Papa from 'papaparse';\nimport { motion } from 'framer-motion';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TakeTest = () => {\n  _s();\n  const navigate = useNavigate();\n  const chapter = localStorage.getItem('currentChapter');\n  const userEmail = localStorage.getItem('userEmail');\n\n  // State management\n  const [questions, setQuestions] = useState([]);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [selectedOption, setSelectedOption] = useState('');\n  const [timeLeft, setTimeLeft] = useState(60 * 60);\n  const [loading, setLoading] = useState(true);\n  const [showConfirmEndModal, setShowConfirmEndModal] = useState(false);\n  const [userAnswers, setUserAnswers] = useState([]);\n  const [testCompleted, setTestCompleted] = useState(false);\n  const [analytics, setAnalytics] = useState({\n    score: 0,\n    totalScore: 0,\n    wrongQuestions: [],\n    strongTopics: [],\n    weakTopics: [],\n    difficultyStats: {\n      easy: 0,\n      medium: 0,\n      hard: 0\n    },\n    totalByDifficulty: {\n      easy: 0,\n      medium: 0,\n      hard: 0\n    }\n  });\n  const [showQuestionNav, setShowQuestionNav] = useState(false);\n\n  // Format time as MM:SS\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  // Load questions from CSV\n  useEffect(() => {\n    const loadQuestions = async () => {\n      try {\n        const response = await fetch(`http://localhost:5000/serve?filename=output_${chapter}.csv`);\n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n        const csvText = await response.text();\n        Papa.parse(csvText, {\n          header: true,\n          complete: results => {\n            const shuffledQuestions = results.data.filter(q => q.Question && q.Question.trim() !== '').sort(() => Math.random() - 0.5);\n            setQuestions(shuffledQuestions);\n            setUserAnswers(new Array(shuffledQuestions.length).fill(null));\n            setLoading(false);\n          },\n          error: error => {\n            console.error('Error parsing CSV:', error);\n            alert('Failed to load test questions. Please try again.');\n            navigate('/');\n          }\n        });\n      } catch (error) {\n        console.error('Error loading questions:', error);\n        alert('Failed to load test questions. Please try again.');\n        navigate('/');\n      }\n    };\n    if (chapter) {\n      loadQuestions();\n    } else {\n      alert('Missing chapter information');\n      navigate('/');\n    }\n  }, [chapter, navigate]);\n\n  // Timer logic\n  useEffect(() => {\n    if (loading || testCompleted) return;\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          handleEndTest(true);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [loading, testCompleted]);\n\n  // Handle answer selection\n  const handleOptionSelect = option => {\n    setSelectedOption(option);\n    const newAnswers = [...userAnswers];\n    newAnswers[currentQuestionIndex] = option;\n    setUserAnswers(newAnswers);\n  };\n\n  // Go to previous question\n  const handlePreviousQuestion = () => {\n    if (currentQuestionIndex > 0) {\n      setCurrentQuestionIndex(prevIndex => prevIndex - 1);\n      setSelectedOption(userAnswers[currentQuestionIndex - 1] || '');\n    }\n  };\n\n  // Go to the next question\n  const handleNextQuestion = () => {\n    if (currentQuestionIndex < questions.length - 1) {\n      setCurrentQuestionIndex(prevIndex => prevIndex + 1);\n      setSelectedOption(userAnswers[currentQuestionIndex + 1] || '');\n    } else {\n      setShowConfirmEndModal(true);\n    }\n  };\n\n  // Jump to specific question\n  const jumpToQuestion = index => {\n    setCurrentQuestionIndex(index);\n    setSelectedOption(userAnswers[index] || '');\n    setShowQuestionNav(false);\n  };\n\n  // Calculate test results\n  const calculateResults = useCallback(() => {\n    const results = {\n      score: 0,\n      totalScore: 0,\n      wrongQuestions: [],\n      strongTopics: {},\n      weakTopics: {},\n      difficultyStats: {\n        easy: 0,\n        medium: 0,\n        hard: 0\n      },\n      totalByDifficulty: {\n        easy: 0,\n        medium: 0,\n        hard: 0\n      }\n    };\n    questions.forEach((question, index) => {\n      var _question$Difficulty, _Object$entries$find, _Object$entries$find$;\n      const userAnswer = userAnswers[index];\n      const correctAnswerText = question['Correct Option'];\n      const subtopic = question.Subtopic;\n      const subtopicDetail = question['Subtopic Detail'];\n      const difficulty = ((_question$Difficulty = question.Difficulty) === null || _question$Difficulty === void 0 ? void 0 : _question$Difficulty.toLowerCase()) || 'e';\n      let points = 1;\n      if (difficulty === 'm') points = 2;\n      if (difficulty === 'h') points = 3;\n      if (difficulty === 'e') results.totalByDifficulty.easy += 1;else if (difficulty === 'm') results.totalByDifficulty.medium += 1;else if (difficulty === 'h') results.totalByDifficulty.hard += 1;\n      results.totalScore += points;\n      const correctAnswer = (_Object$entries$find = Object.entries(question).find(([key, value]) => key.startsWith('Option') && value.trim() === correctAnswerText.trim())) === null || _Object$entries$find === void 0 ? void 0 : (_Object$entries$find$ = _Object$entries$find[0]) === null || _Object$entries$find$ === void 0 ? void 0 : _Object$entries$find$.split(' ')[1];\n      if (userAnswer && userAnswer === correctAnswer) {\n        results.score += points;\n        if (difficulty === 'e') results.difficultyStats.easy += 1;else if (difficulty === 'm') results.difficultyStats.medium += 1;else if (difficulty === 'h') results.difficultyStats.hard += 1;\n        if (!results.strongTopics[subtopic]) {\n          results.strongTopics[subtopic] = [];\n        }\n        if (!results.strongTopics[subtopic].includes(subtopicDetail)) {\n          results.strongTopics[subtopic].push(subtopicDetail);\n        }\n      } else {\n        results.wrongQuestions.push({\n          question: question.Question,\n          correctAnswer,\n          userAnswer: userAnswer || 'No answer',\n          subtopic,\n          subtopicDetail\n        });\n        if (!results.weakTopics[subtopic]) {\n          results.weakTopics[subtopic] = [];\n        }\n        if (!results.weakTopics[subtopic].includes(subtopicDetail)) {\n          results.weakTopics[subtopic].push(subtopicDetail);\n        }\n      }\n    });\n    const strongTopicsArray = Object.entries(results.strongTopics).map(([topic, details]) => ({\n      topic,\n      details\n    }));\n    const weakTopicsArray = Object.entries(results.weakTopics).map(([topic, details]) => ({\n      topic,\n      details\n    }));\n    return {\n      ...results,\n      strongTopics: strongTopicsArray,\n      weakTopics: weakTopicsArray,\n      percentScore: results.score / results.totalScore * 100\n    };\n  }, [questions, userAnswers]);\n\n  // End the test and submit results\n  const handleEndTest = async (isAutoSubmit = false) => {\n    setTestCompleted(true);\n    const results = calculateResults();\n    setAnalytics(results);\n    try {\n      const response = await fetch('http://localhost:5000/submit_test_results', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: userEmail,\n          chapter: chapter,\n          score: results.score,\n          totalScore: results.totalScore,\n          percentScore: results.percentScore,\n          strongTopics: results.strongTopics,\n          weakTopics: results.weakTopics,\n          wrongQuestions: results.wrongQuestions,\n          difficultyStats: results.difficultyStats\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        localStorage.setItem('testResults', JSON.stringify(results));\n        navigate('/test-results');\n      } else {\n        console.error('Failed to submit test results:', data.message);\n        alert('Test completed, but there was an issue saving your results. ' + (isAutoSubmit ? 'Time expired. ' : '') + 'Please contact support.');\n        navigate('/test-results');\n      }\n    } catch (error) {\n      console.error('Error submitting test results:', error);\n      alert('Test completed, but there was an issue saving your results. ' + (isAutoSubmit ? 'Time expired. ' : '') + 'Please contact support.');\n      navigate('/test-results');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-b from-amber-50 to-stone-100 font-serif flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-stone-800 text-xl\",\n        children: \"Loading test questions...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this);\n  }\n  const currentQuestion = questions[currentQuestionIndex];\n  const options = ['A', 'B', 'C', 'D'];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-b from-amber-50 to-stone-100 font-serif relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 overflow-hidden opacity-10 -z-10 pointer-events-none\",\n      children: [...Array(15)].map((_, i) => /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"absolute rounded-full bg-stone-400\",\n        style: {\n          top: `${Math.random() * 100}%`,\n          left: `${Math.random() * 100}%`,\n          width: `${Math.random() * 60 + 20}px`,\n          height: `${Math.random() * 60 + 20}px`\n        },\n        animate: {\n          y: [0, Math.random() * 50 - 25],\n          opacity: [0.05, 0.1, 0.05]\n        },\n        transition: {\n          duration: Math.random() * 10 + 15,\n          repeat: Infinity,\n          repeatType: \"reverse\"\n        }\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pt-24 pb-12 px-6 max-w-6xl mx-auto flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 mr-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/50 rounded-xl p-4 mb-6 shadow-md border border-stone-300/50 backdrop-blur-sm flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-stone-800\",\n            children: [/*#__PURE__*/_jsxDEV(Clock, {\n              className: \"h-5 w-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-bold\",\n              children: formatTime(timeLeft)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-stone-800\",\n            children: [\"Question \", currentQuestionIndex + 1, \" of \", questions.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n            whileHover: {\n              scale: 1.05\n            },\n            whileTap: {\n              scale: 0.95\n            },\n            className: \"bg-stone-700/20 text-stone-800 px-3 py-1 rounded-full flex items-center border border-stone-700/30 text-sm\",\n            onClick: () => setShowQuestionNav(!showQuestionNav),\n            children: [/*#__PURE__*/_jsxDEV(Bookmark, {\n              className: \"h-4 w-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 15\n            }, this), showQuestionNav ? 'Hide Navigation' : 'Question Navigator']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/70 rounded-xl shadow-lg p-8 mb-8 border border-stone-300/50 backdrop-blur-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold mb-6 text-stone-800\",\n            children: currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.Question\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: options.map((option, index) => /*#__PURE__*/_jsxDEV(motion.button, {\n              whileHover: {\n                scale: 1.02\n              },\n              whileTap: {\n                scale: 0.98\n              },\n              className: `w-full text-left p-4 rounded-lg border transition-colors ${selectedOption === option ? 'bg-stone-700/10 border-stone-700/50' : 'bg-white/50 border-stone-300 hover:bg-stone-100/50'}`,\n              onClick: () => handleOptionSelect(option),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium mr-2 text-stone-800\",\n                children: [option, \".\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-stone-700\",\n                children: currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion[`Option ${option}`]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 19\n              }, this)]\n            }, option, true, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-4\",\n            children: [currentQuestionIndex > 0 && /*#__PURE__*/_jsxDEV(motion.button, {\n              whileHover: {\n                scale: 1.05\n              },\n              whileTap: {\n                scale: 0.95\n              },\n              className: \"bg-stone-700/20 text-stone-800 px-4 py-2 rounded-full flex items-center border border-stone-700/30\",\n              onClick: handlePreviousQuestion,\n              children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n                className: \"h-5 w-5 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this), \"Previous\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n              whileHover: {\n                scale: 1.05\n              },\n              whileTap: {\n                scale: 0.95\n              },\n              className: \"bg-stone-700/20 text-stone-800 px-4 py-2 rounded-full flex items-center border border-stone-700/30\",\n              onClick: () => setShowConfirmEndModal(true),\n              children: [/*#__PURE__*/_jsxDEV(Flag, {\n                className: \"h-5 w-5 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this), \"End Test\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n            whileHover: {\n              scale: 1.05\n            },\n            whileTap: {\n              scale: 0.95\n            },\n            className: \"bg-gradient-to-r from-stone-700 to-stone-600 text-amber-50 px-6 py-2 rounded-full flex items-center shadow-md\",\n            onClick: handleNextQuestion,\n            children: currentQuestionIndex < questions.length - 1 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\"Next \", /*#__PURE__*/_jsxDEV(ChevronRight, {\n                className: \"ml-1 h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 24\n              }, this)]\n            }, void 0, true) : 'Finish Test'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), showQuestionNav && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          x: 20\n        },\n        animate: {\n          opacity: 1,\n          x: 0\n        },\n        className: \"w-64 bg-white/70 rounded-xl shadow-lg p-4 border border-stone-300/50 backdrop-blur-sm h-fit sticky top-28\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-bold mb-4 text-stone-800 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Bookmark, {\n            className: \"h-5 w-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this), \"Question Navigator\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-5 gap-2\",\n          children: questions.map((_, index) => /*#__PURE__*/_jsxDEV(motion.button, {\n            whileHover: {\n              scale: 1.05\n            },\n            whileTap: {\n              scale: 0.95\n            },\n            className: `w-8 h-8 rounded-full flex items-center justify-center text-sm ${currentQuestionIndex === index ? 'bg-stone-700 text-amber-50' : userAnswers[index] ? 'bg-stone-700/20 text-stone-800 font-bold border border-stone-700/30' : 'bg-white/50 text-stone-700 border border-stone-300'}`,\n            onClick: () => jumpToQuestion(index),\n            children: index + 1\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 text-sm text-stone-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-3 h-3 rounded-full bg-stone-700 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Current\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-3 h-3 rounded-full bg-stone-700/20 border border-stone-700/30 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Answered\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-3 h-3 rounded-full bg-white/50 border border-stone-300 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Unanswered\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 11\n      }, this), showConfirmEndModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm\",\n        children: /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            y: 20\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          className: \"bg-white/80 rounded-xl p-6 max-w-md w-full border border-stone-300/50 backdrop-blur-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold mb-4 flex items-center text-stone-800\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"h-6 w-6 text-amber-600 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 17\n            }, this), \"End Test Confirmation\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-6 text-stone-700\",\n            children: [\"Are you sure you want to end the test? You have answered \", userAnswers.filter(a => a !== null).length, \" out of \", questions.length, \" questions.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(motion.button, {\n              whileHover: {\n                scale: 1.05\n              },\n              whileTap: {\n                scale: 0.95\n              },\n              className: \"px-4 py-2 border border-stone-300 rounded-full hover:bg-stone-100 text-stone-800\",\n              onClick: () => setShowConfirmEndModal(false),\n              children: \"Continue Test\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n              whileHover: {\n                scale: 1.05\n              },\n              whileTap: {\n                scale: 0.95\n              },\n              className: \"px-4 py-2 bg-gradient-to-r from-stone-700 to-stone-600 text-amber-50 rounded-full hover:opacity-90\",\n              onClick: () => {\n                setShowConfirmEndModal(false);\n                handleEndTest();\n              },\n              children: \"End Test\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 271,\n    columnNumber: 5\n  }, this);\n};\n_s(TakeTest, \"vEl0Eme7qcAjcQAhx+lxdCuoMOU=\", false, function () {\n  return [useNavigate];\n});\n_c = TakeTest;\nexport default TakeTest;\nvar _c;\n$RefreshReg$(_c, \"TakeTest\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","AlertCircle","ChevronRight","Clock","ChevronLeft","Flag","Bookmark","Papa","motion","jsxDEV","_jsxDEV","Fragment","_Fragment","TakeTest","_s","navigate","chapter","localStorage","getItem","userEmail","questions","setQuestions","currentQuestionIndex","setCurrentQuestionIndex","selectedOption","setSelectedOption","timeLeft","setTimeLeft","loading","setLoading","showConfirmEndModal","setShowConfirmEndModal","userAnswers","setUserAnswers","testCompleted","setTestCompleted","analytics","setAnalytics","score","totalScore","wrongQuestions","strongTopics","weakTopics","difficultyStats","easy","medium","hard","totalByDifficulty","showQuestionNav","setShowQuestionNav","formatTime","seconds","mins","Math","floor","secs","toString","padStart","loadQuestions","response","fetch","ok","Error","status","csvText","text","parse","header","complete","results","shuffledQuestions","data","filter","q","Question","trim","sort","random","Array","length","fill","error","console","alert","timer","setInterval","prev","clearInterval","handleEndTest","handleOptionSelect","option","newAnswers","handlePreviousQuestion","prevIndex","handleNextQuestion","jumpToQuestion","index","calculateResults","forEach","question","_question$Difficulty","_Object$entries$find","_Object$entries$find$","userAnswer","correctAnswerText","subtopic","Subtopic","subtopicDetail","difficulty","Difficulty","toLowerCase","points","correctAnswer","Object","entries","find","key","value","startsWith","split","includes","push","strongTopicsArray","map","topic","details","weakTopicsArray","percentScore","isAutoSubmit","method","headers","body","JSON","stringify","email","json","success","setItem","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","currentQuestion","options","_","i","div","style","top","left","width","height","animate","y","opacity","transition","duration","repeat","Infinity","repeatType","button","whileHover","scale","whileTap","onClick","initial","x","a","_c","$RefreshReg$"],"sources":["/home/pes2ug22cs632/gen_ai/App/src/takeTest.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AlertCircle, ChevronRight, Clock, ChevronLeft, Flag, Bookmark } from 'lucide-react';\nimport Papa from 'papaparse';\nimport { motion } from 'framer-motion';\n\nconst TakeTest = () => {\n  const navigate = useNavigate();\n  const chapter = localStorage.getItem('currentChapter');\n  const userEmail = localStorage.getItem('userEmail');\n\n  // State management\n  const [questions, setQuestions] = useState([]);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [selectedOption, setSelectedOption] = useState('');\n  const [timeLeft, setTimeLeft] = useState(60 * 60);\n  const [loading, setLoading] = useState(true);\n  const [showConfirmEndModal, setShowConfirmEndModal] = useState(false);\n  const [userAnswers, setUserAnswers] = useState([]);\n  const [testCompleted, setTestCompleted] = useState(false);\n  const [analytics, setAnalytics] = useState({\n    score: 0,\n    totalScore: 0,\n    wrongQuestions: [],\n    strongTopics: [],\n    weakTopics: [],\n    difficultyStats: { easy: 0, medium: 0, hard: 0 },\n    totalByDifficulty: { easy: 0, medium: 0, hard: 0 }\n  });\n  const [showQuestionNav, setShowQuestionNav] = useState(false);\n\n  // Format time as MM:SS\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  // Load questions from CSV\n  useEffect(() => {\n    const loadQuestions = async () => {\n      try {\n        const response = await fetch(`http://localhost:5000/serve?filename=output_${chapter}.csv`);\n          \n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }  \n        const csvText = await response.text();\n        \n        Papa.parse(csvText, {\n          header: true,\n          complete: (results) => {\n            const shuffledQuestions = results.data\n              .filter(q => q.Question && q.Question.trim() !== '')\n              .sort(() => Math.random() - 0.5);\n            \n            setQuestions(shuffledQuestions);\n            setUserAnswers(new Array(shuffledQuestions.length).fill(null));\n            setLoading(false);\n          },\n          error: (error) => {\n            console.error('Error parsing CSV:', error);\n            alert('Failed to load test questions. Please try again.');\n            navigate('/');\n          }\n        });\n      } catch (error) {\n        console.error('Error loading questions:', error);\n        alert('Failed to load test questions. Please try again.');\n        navigate('/');\n      }\n    };\n\n    if (chapter) {\n      loadQuestions();\n    } else {\n      alert('Missing chapter information');\n      navigate('/');\n    }\n  }, [chapter, navigate]);\n\n  // Timer logic\n  useEffect(() => {\n    if (loading || testCompleted) return;\n\n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          handleEndTest(true);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, [loading, testCompleted]);\n\n  // Handle answer selection\n  const handleOptionSelect = (option) => {\n    setSelectedOption(option);\n    const newAnswers = [...userAnswers];\n    newAnswers[currentQuestionIndex] = option;\n    setUserAnswers(newAnswers);\n  };\n\n  // Go to previous question\n  const handlePreviousQuestion = () => {\n    if (currentQuestionIndex > 0) {\n      setCurrentQuestionIndex(prevIndex => prevIndex - 1);\n      setSelectedOption(userAnswers[currentQuestionIndex - 1] || '');\n    }\n  };\n\n  // Go to the next question\n  const handleNextQuestion = () => {\n    if (currentQuestionIndex < questions.length - 1) {\n      setCurrentQuestionIndex(prevIndex => prevIndex + 1);\n      setSelectedOption(userAnswers[currentQuestionIndex + 1] || '');\n    } else {\n      setShowConfirmEndModal(true);\n    }\n  };\n\n  // Jump to specific question\n  const jumpToQuestion = (index) => {\n    setCurrentQuestionIndex(index);\n    setSelectedOption(userAnswers[index] || '');\n    setShowQuestionNav(false);\n  };\n\n  // Calculate test results\n  const calculateResults = useCallback(() => {\n    const results = {\n      score: 0,\n      totalScore: 0,\n      wrongQuestions: [],\n      strongTopics: {},\n      weakTopics: {},\n      difficultyStats: { easy: 0, medium: 0, hard: 0 },\n      totalByDifficulty: { easy: 0, medium: 0, hard: 0 }\n    };\n\n    questions.forEach((question, index) => {\n      const userAnswer = userAnswers[index];\n      const correctAnswerText = question['Correct Option'];\n      const subtopic = question.Subtopic;\n      const subtopicDetail = question['Subtopic Detail'];\n      const difficulty = question.Difficulty?.toLowerCase() || 'e';\n      \n      let points = 1;\n      if (difficulty === 'm') points = 2;\n      if (difficulty === 'h') points = 3;\n      \n      if (difficulty === 'e') results.totalByDifficulty.easy += 1;\n      else if (difficulty === 'm') results.totalByDifficulty.medium += 1;\n      else if (difficulty === 'h') results.totalByDifficulty.hard += 1;\n      \n      results.totalScore += points;\n\n      const correctAnswer = Object.entries(question).find(([key, value]) =>\n        key.startsWith('Option') && value.trim() === correctAnswerText.trim()\n      )?.[0]?.split(' ')[1];\n      \n      if (userAnswer && userAnswer === correctAnswer) {\n        results.score += points;\n        \n        if (difficulty === 'e') results.difficultyStats.easy += 1;\n        else if (difficulty === 'm') results.difficultyStats.medium += 1;\n        else if (difficulty === 'h') results.difficultyStats.hard += 1;\n        \n        if (!results.strongTopics[subtopic]) {\n          results.strongTopics[subtopic] = [];\n        }\n        if (!results.strongTopics[subtopic].includes(subtopicDetail)) {\n          results.strongTopics[subtopic].push(subtopicDetail);\n        }\n      } else {\n        results.wrongQuestions.push({\n          question: question.Question,\n          correctAnswer,\n          userAnswer: userAnswer || 'No answer',\n          subtopic,\n          subtopicDetail\n        });\n        \n        if (!results.weakTopics[subtopic]) {\n          results.weakTopics[subtopic] = [];\n        }\n        if (!results.weakTopics[subtopic].includes(subtopicDetail)) {\n          results.weakTopics[subtopic].push(subtopicDetail);\n        }\n      }\n    });\n    \n    const strongTopicsArray = Object.entries(results.strongTopics).map(([topic, details]) => ({\n      topic,\n      details\n    }));\n    \n    const weakTopicsArray = Object.entries(results.weakTopics).map(([topic, details]) => ({\n      topic,\n      details\n    }));\n    \n    return {\n      ...results,\n      strongTopics: strongTopicsArray,\n      weakTopics: weakTopicsArray,\n      percentScore: (results.score / results.totalScore) * 100\n    };\n  }, [questions, userAnswers]);\n\n  // End the test and submit results\n  const handleEndTest = async (isAutoSubmit = false) => {\n    setTestCompleted(true);\n    const results = calculateResults();\n    setAnalytics(results);\n    \n    try {\n      const response = await fetch('http://localhost:5000/submit_test_results', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          email: userEmail,\n          chapter: chapter,\n          score: results.score,\n          totalScore: results.totalScore,\n          percentScore: results.percentScore,\n          strongTopics: results.strongTopics,\n          weakTopics: results.weakTopics,\n          wrongQuestions: results.wrongQuestions,\n          difficultyStats: results.difficultyStats\n        }),\n      });\n      \n      const data = await response.json();\n      \n      if (data.success) {\n        localStorage.setItem('testResults', JSON.stringify(results));\n        navigate('/test-results');\n      } else {\n        console.error('Failed to submit test results:', data.message);\n        alert('Test completed, but there was an issue saving your results. ' + \n              (isAutoSubmit ? 'Time expired. ' : '') +\n              'Please contact support.');\n        navigate('/test-results');\n      }\n    } catch (error) {\n      console.error('Error submitting test results:', error);\n      alert('Test completed, but there was an issue saving your results. ' + \n            (isAutoSubmit ? 'Time expired. ' : '') +\n            'Please contact support.');\n      navigate('/test-results');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-amber-50 to-stone-100 font-serif flex items-center justify-center\">\n        <div className=\"text-stone-800 text-xl\">Loading test questions...</div>\n      </div>\n    );\n  }\n\n  const currentQuestion = questions[currentQuestionIndex];\n  const options = ['A', 'B', 'C', 'D'];\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-amber-50 to-stone-100 font-serif relative\">\n      {/* Background pattern */}\n      <div className=\"fixed inset-0 overflow-hidden opacity-10 -z-10 pointer-events-none\">\n        {[...Array(15)].map((_, i) => (\n          <motion.div\n            key={i}\n            className=\"absolute rounded-full bg-stone-400\"\n            style={{\n              top: `${Math.random() * 100}%`,\n              left: `${Math.random() * 100}%`,\n              width: `${Math.random() * 60 + 20}px`,\n              height: `${Math.random() * 60 + 20}px`,\n            }}\n            animate={{\n              y: [0, Math.random() * 50 - 25],\n              opacity: [0.05, 0.1, 0.05],\n            }}\n            transition={{\n              duration: Math.random() * 10 + 15,\n              repeat: Infinity,\n              repeatType: \"reverse\",\n            }}\n          />\n        ))}\n      </div>\n\n      <div className=\"pt-24 pb-12 px-6 max-w-6xl mx-auto flex\">\n        {/* Main content area */}\n        <div className=\"flex-1 mr-8\">\n          {/* Timer and Progress Bar */}\n          <div className=\"bg-white/50 rounded-xl p-4 mb-6 shadow-md border border-stone-300/50 backdrop-blur-sm flex justify-between items-center\">\n            <div className=\"flex items-center text-stone-800\">\n              <Clock className=\"h-5 w-5 mr-2\" />\n              <span className=\"font-bold\">{formatTime(timeLeft)}</span>\n            </div>\n            <div className=\"text-stone-800\">\n              Question {currentQuestionIndex + 1} of {questions.length}\n            </div>\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              className=\"bg-stone-700/20 text-stone-800 px-3 py-1 rounded-full flex items-center border border-stone-700/30 text-sm\"\n              onClick={() => setShowQuestionNav(!showQuestionNav)}\n            >\n              <Bookmark className=\"h-4 w-4 mr-1\" />\n              {showQuestionNav ? 'Hide Navigation' : 'Question Navigator'}\n            </motion.button>\n          </div>\n          \n          {/* Question Card */}\n          <div className=\"bg-white/70 rounded-xl shadow-lg p-8 mb-8 border border-stone-300/50 backdrop-blur-sm\">\n            <h3 className=\"text-2xl font-bold mb-6 text-stone-800\">{currentQuestion?.Question}</h3>\n            \n            <div className=\"space-y-4\">\n              {options.map((option, index) => (\n                <motion.button\n                  key={option}\n                  whileHover={{ scale: 1.02 }}\n                  whileTap={{ scale: 0.98 }}\n                  className={`w-full text-left p-4 rounded-lg border transition-colors ${\n                    selectedOption === option\n                      ? 'bg-stone-700/10 border-stone-700/50'\n                      : 'bg-white/50 border-stone-300 hover:bg-stone-100/50'\n                  }`}\n                  onClick={() => handleOptionSelect(option)}\n                >\n                  <span className=\"font-medium mr-2 text-stone-800\">{option}.</span>\n                  <span className=\"text-stone-700\">{currentQuestion?.[`Option ${option}`]}</span>\n                </motion.button>\n              ))}\n            </div>\n          </div>\n          \n          {/* Navigation */}\n          <div className=\"flex justify-between\">\n            <div className=\"flex space-x-4\">\n              {currentQuestionIndex > 0 && (\n                <motion.button\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                  className=\"bg-stone-700/20 text-stone-800 px-4 py-2 rounded-full flex items-center border border-stone-700/30\"\n                  onClick={handlePreviousQuestion}\n                >\n                  <ChevronLeft className=\"h-5 w-5 mr-1\" />\n                  Previous\n                </motion.button>\n              )}\n              \n              <motion.button\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                className=\"bg-stone-700/20 text-stone-800 px-4 py-2 rounded-full flex items-center border border-stone-700/30\"\n                onClick={() => setShowConfirmEndModal(true)}\n              >\n                <Flag className=\"h-5 w-5 mr-1\" />\n                End Test\n              </motion.button>\n            </div>\n            \n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              className=\"bg-gradient-to-r from-stone-700 to-stone-600 text-amber-50 px-6 py-2 rounded-full flex items-center shadow-md\"\n              onClick={handleNextQuestion}\n            >\n              {currentQuestionIndex < questions.length - 1 ? (\n                <>\n                  Next <ChevronRight className=\"ml-1 h-5 w-5\" />\n                </>\n              ) : (\n                'Finish Test'\n              )}\n            </motion.button>\n          </div>\n        </div>\n\n        {/* Question Navigation Sidebar */}\n        {showQuestionNav && (\n          <motion.div \n            initial={{ opacity: 0, x: 20 }}\n            animate={{ opacity: 1, x: 0 }}\n            className=\"w-64 bg-white/70 rounded-xl shadow-lg p-4 border border-stone-300/50 backdrop-blur-sm h-fit sticky top-28\"\n          >\n            <h3 className=\"text-lg font-bold mb-4 text-stone-800 flex items-center\">\n              <Bookmark className=\"h-5 w-5 mr-2\" />\n              Question Navigator\n            </h3>\n            <div className=\"grid grid-cols-5 gap-2\">\n              {questions.map((_, index) => (\n                <motion.button\n                  key={index}\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                  className={`w-8 h-8 rounded-full flex items-center justify-center text-sm ${\n                    currentQuestionIndex === index\n                      ? 'bg-stone-700 text-amber-50'\n                      : userAnswers[index]\n                      ? 'bg-stone-700/20 text-stone-800 font-bold border border-stone-700/30'\n                      : 'bg-white/50 text-stone-700 border border-stone-300'\n                  }`}\n                  onClick={() => jumpToQuestion(index)}\n                >\n                  {index + 1}\n                </motion.button>\n              ))}\n            </div>\n            <div className=\"mt-4 text-sm text-stone-600\">\n              <div className=\"flex items-center mb-1\">\n                <div className=\"w-3 h-3 rounded-full bg-stone-700 mr-2\"></div>\n                <span>Current</span>\n              </div>\n              <div className=\"flex items-center mb-1\">\n                <div className=\"w-3 h-3 rounded-full bg-stone-700/20 border border-stone-700/30 mr-2\"></div>\n                <span>Answered</span>\n              </div>\n              <div className=\"flex items-center\">\n                <div className=\"w-3 h-3 rounded-full bg-white/50 border border-stone-300 mr-2\"></div>\n                <span>Unanswered</span>\n              </div>\n            </div>\n          </motion.div>\n        )}\n        \n        {/* Confirmation Modal */}\n        {showConfirmEndModal && (\n          <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm\">\n            <motion.div \n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              className=\"bg-white/80 rounded-xl p-6 max-w-md w-full border border-stone-300/50 backdrop-blur-sm\"\n            >\n              <h3 className=\"text-xl font-bold mb-4 flex items-center text-stone-800\">\n                <AlertCircle className=\"h-6 w-6 text-amber-600 mr-2\" />\n                End Test Confirmation\n              </h3>\n              <p className=\"mb-6 text-stone-700\">\n                Are you sure you want to end the test? You have answered {userAnswers.filter(a => a !== null).length} out of {questions.length} questions.\n              </p>\n              <div className=\"flex justify-end space-x-4\">\n                <motion.button\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                  className=\"px-4 py-2 border border-stone-300 rounded-full hover:bg-stone-100 text-stone-800\"\n                  onClick={() => setShowConfirmEndModal(false)}\n                >\n                  Continue Test\n                </motion.button>\n                <motion.button\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                  className=\"px-4 py-2 bg-gradient-to-r from-stone-700 to-stone-600 text-amber-50 rounded-full hover:opacity-90\"\n                  onClick={() => {\n                    setShowConfirmEndModal(false);\n                    handleEndTest();\n                  }}\n                >\n                  End Test\n                </motion.button>\n              </div>\n            </motion.div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TakeTest;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}