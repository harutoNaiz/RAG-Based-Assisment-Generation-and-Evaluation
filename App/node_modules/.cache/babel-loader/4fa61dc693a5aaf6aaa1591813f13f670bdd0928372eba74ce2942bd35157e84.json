{"ast":null,"code":"var _jsxFileName = \"/home/pes2ug22cs632/gen_ai/App/src/takeTest.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AlertCircle, ChevronRight, Clock, ChevronLeft, Flag, Bookmark } from 'lucide-react';\nimport Papa from 'papaparse';\nimport { motion } from 'framer-motion';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TakeTest = () => {\n  _s();\n  const navigate = useNavigate();\n  const chapter = localStorage.getItem('currentChapter');\n  const userEmail = localStorage.getItem('userEmail');\n\n  // State management\n  const [questions, setQuestions] = useState([]);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [selectedOption, setSelectedOption] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [showConfirmEndModal, setShowConfirmEndModal] = useState(false);\n  const [userAnswers, setUserAnswers] = useState([]);\n  const [testCompleted, setTestCompleted] = useState(false);\n  const [analytics, setAnalytics] = useState({\n    score: 0,\n    totalScore: 0,\n    wrongQuestions: [],\n    strongTopics: [],\n    weakTopics: [],\n    difficultyStats: {\n      easy: 0,\n      medium: 0,\n      hard: 0\n    },\n    totalByDifficulty: {\n      easy: 0,\n      medium: 0,\n      hard: 0\n    }\n  });\n  const [showQuestionNav, setShowQuestionNav] = useState(false);\n  const [testStartTime, setTestStartTime] = useState(null);\n  const [timeLeft, setTimeLeft] = useState(60 * 60);\n  const timerRef = useRef(null);\n\n  // Format time as MM:SS\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  // Load questions from CSV\n  useEffect(() => {\n    const loadQuestions = async () => {\n      try {\n        const response = await fetch(`http://localhost:5000/serve?filename=output_${chapter}.csv`);\n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n        const csvText = await response.text();\n        Papa.parse(csvText, {\n          header: true,\n          complete: results => {\n            const shuffledQuestions = results.data.filter(q => q.Question && q.Question.trim() !== '').sort(() => Math.random() - 0.5);\n            setQuestions(shuffledQuestions);\n            setUserAnswers(new Array(shuffledQuestions.length).fill(null));\n            setLoading(false);\n            setTestStartTime(Date.now()); // Set test start time when questions load\n          },\n          error: error => {\n            console.error('Error parsing CSV:', error);\n            alert('Failed to load test questions. Please try again.');\n            navigate('/');\n          }\n        });\n      } catch (error) {\n        console.error('Error loading questions:', error);\n        alert('Failed to load test questions. Please try again.');\n        navigate('/');\n      }\n    };\n    if (chapter) {\n      loadQuestions();\n    } else {\n      alert('Missing chapter information');\n      navigate('/');\n    }\n  }, [chapter, navigate]);\n\n  // Timer logic based on system time\n  useEffect(() => {\n    if (loading || testCompleted || !testStartTime) return;\n    const calculateTimeLeft = () => {\n      const elapsedSeconds = Math.floor((Date.now() - testStartTime) / 1000);\n      const remainingSeconds = Math.max(60 * 60 - elapsedSeconds, 0);\n      setTimeLeft(remainingSeconds);\n      if (remainingSeconds <= 0) {\n        handleEndTest(true);\n      }\n    };\n\n    // Calculate immediately\n    calculateTimeLeft();\n\n    // Then set up interval\n    timerRef.current = setInterval(calculateTimeLeft, 1000);\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, [loading, testCompleted, testStartTime]);\n\n  // Handle answer selection\n  const handleOptionSelect = option => {\n    setSelectedOption(option);\n    const newAnswers = [...userAnswers];\n    newAnswers[currentQuestionIndex] = option;\n    setUserAnswers(newAnswers);\n  };\n\n  // Go to previous question\n  const handlePreviousQuestion = () => {\n    if (currentQuestionIndex > 0) {\n      setCurrentQuestionIndex(prevIndex => prevIndex - 1);\n      setSelectedOption(userAnswers[currentQuestionIndex - 1] || '');\n    }\n  };\n\n  // Go to the next question\n  const handleNextQuestion = () => {\n    if (currentQuestionIndex < questions.length - 1) {\n      setCurrentQuestionIndex(prevIndex => prevIndex + 1);\n      setSelectedOption(userAnswers[currentQuestionIndex + 1] || '');\n    } else {\n      setShowConfirmEndModal(true);\n    }\n  };\n\n  // Jump to specific question\n  const jumpToQuestion = index => {\n    setCurrentQuestionIndex(index);\n    setSelectedOption(userAnswers[index] || '');\n  };\n\n  // Calculate test results\n  const calculateResults = useCallback(() => {\n    const results = {\n      score: 0,\n      totalScore: 0,\n      wrongQuestions: [],\n      strongTopics: {},\n      weakTopics: {},\n      difficultyStats: {\n        easy: 0,\n        medium: 0,\n        hard: 0\n      },\n      totalByDifficulty: {\n        easy: 0,\n        medium: 0,\n        hard: 0\n      }\n    };\n    questions.forEach((question, index) => {\n      var _question$Difficulty, _Object$entries$find, _Object$entries$find$;\n      const userAnswer = userAnswers[index];\n      const correctAnswerText = question['Correct Option'];\n      const subtopic = question.Subtopic;\n      const subtopicDetail = question['Subtopic Detail'];\n      const difficulty = ((_question$Difficulty = question.Difficulty) === null || _question$Difficulty === void 0 ? void 0 : _question$Difficulty.toLowerCase()) || 'e';\n      let points = 1;\n      if (difficulty === 'm') points = 2;\n      if (difficulty === 'h') points = 3;\n      if (difficulty === 'e') results.totalByDifficulty.easy += 1;else if (difficulty === 'm') results.totalByDifficulty.medium += 1;else if (difficulty === 'h') results.totalByDifficulty.hard += 1;\n      results.totalScore += points;\n      const correctAnswer = (_Object$entries$find = Object.entries(question).find(([key, value]) => key.startsWith('Option') && value.trim() === correctAnswerText.trim())) === null || _Object$entries$find === void 0 ? void 0 : (_Object$entries$find$ = _Object$entries$find[0]) === null || _Object$entries$find$ === void 0 ? void 0 : _Object$entries$find$.split(' ')[1];\n      if (userAnswer && userAnswer === correctAnswer) {\n        results.score += points;\n        if (difficulty === 'e') results.difficultyStats.easy += 1;else if (difficulty === 'm') results.difficultyStats.medium += 1;else if (difficulty === 'h') results.difficultyStats.hard += 1;\n        if (!results.strongTopics[subtopic]) {\n          results.strongTopics[subtopic] = [];\n        }\n        if (!results.strongTopics[subtopic].includes(subtopicDetail)) {\n          results.strongTopics[subtopic].push(subtopicDetail);\n        }\n      } else {\n        results.wrongQuestions.push({\n          question: question.Question,\n          correctAnswer,\n          userAnswer: userAnswer || 'No answer',\n          subtopic,\n          subtopicDetail\n        });\n        if (!results.weakTopics[subtopic]) {\n          results.weakTopics[subtopic] = [];\n        }\n        if (!results.weakTopics[subtopic].includes(subtopicDetail)) {\n          results.weakTopics[subtopic].push(subtopicDetail);\n        }\n      }\n    });\n    const strongTopicsArray = Object.entries(results.strongTopics).map(([topic, details]) => ({\n      topic,\n      details\n    }));\n    const weakTopicsArray = Object.entries(results.weakTopics).map(([topic, details]) => ({\n      topic,\n      details\n    }));\n    return {\n      ...results,\n      strongTopics: strongTopicsArray,\n      weakTopics: weakTopicsArray,\n      percentScore: results.score / results.totalScore * 100\n    };\n  }, [questions, userAnswers]);\n\n  // End the test and submit results\n  const handleEndTest = async (isAutoSubmit = false) => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n    setTestCompleted(true);\n    const results = calculateResults();\n    setAnalytics(results);\n    try {\n      const response = await fetch('http://localhost:5000/submit_test_results', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: userEmail,\n          chapter: chapter,\n          score: results.score,\n          totalScore: results.totalScore,\n          percentScore: results.percentScore,\n          strongTopics: results.strongTopics,\n          weakTopics: results.weakTopics,\n          wrongQuestions: results.wrongQuestions,\n          difficultyStats: results.difficultyStats,\n          startTime: testStartTime,\n          endTime: Date.now()\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        localStorage.setItem('testResults', JSON.stringify(results));\n        navigate('/test-results');\n      } else {\n        console.error('Failed to submit test results:', data.message);\n        alert('Test completed, but there was an issue saving your results. ' + (isAutoSubmit ? 'Time expired. ' : '') + 'Please contact support.');\n        navigate('/test-results');\n      }\n    } catch (error) {\n      console.error('Error submitting test results:', error);\n      alert('Test completed, but there was an issue saving your results. ' + (isAutoSubmit ? 'Time expired. ' : '') + 'Please contact support.');\n      navigate('/test-results');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-b from-amber-50 to-stone-100 font-serif flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-stone-800 text-xl\",\n        children: \"Loading test questions...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this);\n  }\n  const currentQuestion = questions[currentQuestionIndex];\n  const options = ['A', 'B', 'C', 'D'];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-b from-amber-50 to-stone-100 font-serif relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 overflow-hidden opacity-10 -z-10 pointer-events-none\",\n      children: [...Array(15)].map((_, i) => /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"absolute rounded-full bg-stone-400\",\n        style: {\n          top: `${Math.random() * 100}%`,\n          left: `${Math.random() * 100}%`,\n          width: `${Math.random() * 60 + 20}px`,\n          height: `${Math.random() * 60 + 20}px`\n        },\n        animate: {\n          y: [0, Math.random() * 50 - 25],\n          opacity: [0.05, 0.1, 0.05]\n        },\n        transition: {\n          duration: Math.random() * 10 + 15,\n          repeat: Infinity,\n          repeatType: \"reverse\"\n        }\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pt-24 pb-12 px-6 max-w-6xl mx-auto flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${showQuestionNav ? 'mr-8' : ''} flex-1 transition-all duration-300`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/50 rounded-xl p-4 mb-6 shadow-md border border-stone-300/50 backdrop-blur-sm flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-stone-800\",\n            children: [/*#__PURE__*/_jsxDEV(Clock, {\n              className: \"h-5 w-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-bold\",\n              children: formatTime(timeLeft)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-stone-800\",\n            children: [\"Question \", currentQuestionIndex + 1, \" of \", questions.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n            whileHover: {\n              scale: 1.05\n            },\n            whileTap: {\n              scale: 0.95\n            },\n            className: \"bg-stone-700/20 text-stone-800 px-3 py-1 rounded-full flex items-center border border-stone-700/30 text-sm\",\n            onClick: () => setShowQuestionNav(!showQuestionNav),\n            children: [/*#__PURE__*/_jsxDEV(Bookmark, {\n              className: \"h-4 w-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this), showQuestionNav ? 'Hide Navigation' : 'Question Navigator']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/70 rounded-xl shadow-lg p-8 mb-8 border border-stone-300/50 backdrop-blur-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold mb-6 text-stone-800\",\n            children: currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.Question\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: options.map((option, index) => /*#__PURE__*/_jsxDEV(motion.button, {\n              whileHover: {\n                scale: 1.02\n              },\n              whileTap: {\n                scale: 0.98\n              },\n              className: `w-full text-left p-4 rounded-lg border transition-colors ${selectedOption === option ? 'bg-stone-700/10 border-stone-700/50' : 'bg-white/50 border-stone-300 hover:bg-stone-100/50'}`,\n              onClick: () => handleOptionSelect(option),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium mr-2 text-stone-800\",\n                children: [option, \".\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-stone-700\",\n                children: currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion[`Option ${option}`]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this)]\n            }, option, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-4\",\n            children: [currentQuestionIndex > 0 && /*#__PURE__*/_jsxDEV(motion.button, {\n              whileHover: {\n                scale: 1.05\n              },\n              whileTap: {\n                scale: 0.95\n              },\n              className: \"bg-stone-700/20 text-stone-800 px-4 py-2 rounded-full flex items-center border border-stone-700/30\",\n              onClick: handlePreviousQuestion,\n              children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n                className: \"h-5 w-5 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 19\n              }, this), \"Previous\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n              whileHover: {\n                scale: 1.05\n              },\n              whileTap: {\n                scale: 0.95\n              },\n              className: \"bg-stone-700/20 text-stone-800 px-4 py-2 rounded-full flex items-center border border-stone-700/30\",\n              onClick: () => setShowConfirmEndModal(true),\n              children: [/*#__PURE__*/_jsxDEV(Flag, {\n                className: \"h-5 w-5 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 17\n              }, this), \"End Test\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n            whileHover: {\n              scale: 1.05\n            },\n            whileTap: {\n              scale: 0.95\n            },\n            className: \"bg-gradient-to-r from-stone-700 to-stone-600 text-amber-50 px-6 py-2 rounded-full flex items-center shadow-md\",\n            onClick: handleNextQuestion,\n            children: currentQuestionIndex < questions.length - 1 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\"Next \", /*#__PURE__*/_jsxDEV(ChevronRight, {\n                className: \"ml-1 h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 24\n              }, this)]\n            }, void 0, true) : 'Finish Test'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), showQuestionNav && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          x: 20\n        },\n        animate: {\n          opacity: 1,\n          x: 0\n        },\n        className: \"w-64 bg-white/70 rounded-xl shadow-lg p-4 border border-stone-300/50 backdrop-blur-sm h-fit sticky top-28\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-bold mb-4 text-stone-800 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Bookmark, {\n            className: \"h-5 w-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this), \"Question Navigator\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-5 gap-2\",\n          children: questions.map((_, index) => /*#__PURE__*/_jsxDEV(motion.button, {\n            whileHover: {\n              scale: 1.05\n            },\n            whileTap: {\n              scale: 0.95\n            },\n            className: `w-8 h-8 rounded-full flex items-center justify-center text-sm ${currentQuestionIndex === index ? 'bg-stone-700 text-amber-50' : userAnswers[index] ? 'bg-stone-700/20 text-stone-800 font-bold border border-stone-700/30' : 'bg-white/50 text-stone-700 border border-stone-300'}`,\n            onClick: () => jumpToQuestion(index),\n            children: index + 1\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 text-sm text-stone-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-3 h-3 rounded-full bg-stone-700 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Current\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-3 h-3 rounded-full bg-stone-700/20 border border-stone-700/30 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Answered\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-3 h-3 rounded-full bg-white/50 border border-stone-300 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Unanswered\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 11\n      }, this), showConfirmEndModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm\",\n        children: /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            y: 20\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          className: \"bg-white/80 rounded-xl p-6 max-w-md w-full border border-stone-300/50 backdrop-blur-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold mb-4 flex items-center text-stone-800\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"h-6 w-6 text-amber-600 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 17\n            }, this), \"End Test Confirmation\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-6 text-stone-700\",\n            children: [\"Are you sure you want to end the test? You have answered \", userAnswers.filter(a => a !== null).length, \" out of \", questions.length, \" questions.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(motion.button, {\n              whileHover: {\n                scale: 1.05\n              },\n              whileTap: {\n                scale: 0.95\n              },\n              className: \"px-4 py-2 border border-stone-300 rounded-full hover:bg-stone-100 text-stone-800\",\n              onClick: () => setShowConfirmEndModal(false),\n              children: \"Continue Test\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(motion.button, {\n              whileHover: {\n                scale: 1.05\n              },\n              whileTap: {\n                scale: 0.95\n              },\n              className: \"px-4 py-2 bg-gradient-to-r from-stone-700 to-stone-600 text-amber-50 rounded-full hover:opacity-90\",\n              onClick: () => {\n                setShowConfirmEndModal(false);\n                handleEndTest();\n              },\n              children: \"End Test\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 287,\n    columnNumber: 5\n  }, this);\n};\n_s(TakeTest, \"OUYa42HMH+7qLQ5O/X9H7lJ/DRk=\", false, function () {\n  return [useNavigate];\n});\n_c = TakeTest;\nexport default TakeTest;\nvar _c;\n$RefreshReg$(_c, \"TakeTest\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","useNavigate","AlertCircle","ChevronRight","Clock","ChevronLeft","Flag","Bookmark","Papa","motion","jsxDEV","_jsxDEV","Fragment","_Fragment","TakeTest","_s","navigate","chapter","localStorage","getItem","userEmail","questions","setQuestions","currentQuestionIndex","setCurrentQuestionIndex","selectedOption","setSelectedOption","loading","setLoading","showConfirmEndModal","setShowConfirmEndModal","userAnswers","setUserAnswers","testCompleted","setTestCompleted","analytics","setAnalytics","score","totalScore","wrongQuestions","strongTopics","weakTopics","difficultyStats","easy","medium","hard","totalByDifficulty","showQuestionNav","setShowQuestionNav","testStartTime","setTestStartTime","timeLeft","setTimeLeft","timerRef","formatTime","seconds","mins","Math","floor","secs","toString","padStart","loadQuestions","response","fetch","ok","Error","status","csvText","text","parse","header","complete","results","shuffledQuestions","data","filter","q","Question","trim","sort","random","Array","length","fill","Date","now","error","console","alert","calculateTimeLeft","elapsedSeconds","remainingSeconds","max","handleEndTest","current","setInterval","clearInterval","handleOptionSelect","option","newAnswers","handlePreviousQuestion","prevIndex","handleNextQuestion","jumpToQuestion","index","calculateResults","forEach","question","_question$Difficulty","_Object$entries$find","_Object$entries$find$","userAnswer","correctAnswerText","subtopic","Subtopic","subtopicDetail","difficulty","Difficulty","toLowerCase","points","correctAnswer","Object","entries","find","key","value","startsWith","split","includes","push","strongTopicsArray","map","topic","details","weakTopicsArray","percentScore","isAutoSubmit","method","headers","body","JSON","stringify","email","startTime","endTime","json","success","setItem","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","currentQuestion","options","_","i","div","style","top","left","width","height","animate","y","opacity","transition","duration","repeat","Infinity","repeatType","button","whileHover","scale","whileTap","onClick","initial","x","a","_c","$RefreshReg$"],"sources":["/home/pes2ug22cs632/gen_ai/App/src/takeTest.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AlertCircle, ChevronRight, Clock, ChevronLeft, Flag, Bookmark } from 'lucide-react';\nimport Papa from 'papaparse';\nimport { motion } from 'framer-motion';\n\nconst TakeTest = () => {\n  const navigate = useNavigate();\n  const chapter = localStorage.getItem('currentChapter');\n  const userEmail = localStorage.getItem('userEmail');\n\n  // State management\n  const [questions, setQuestions] = useState([]);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [selectedOption, setSelectedOption] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [showConfirmEndModal, setShowConfirmEndModal] = useState(false);\n  const [userAnswers, setUserAnswers] = useState([]);\n  const [testCompleted, setTestCompleted] = useState(false);\n  const [analytics, setAnalytics] = useState({\n    score: 0,\n    totalScore: 0,\n    wrongQuestions: [],\n    strongTopics: [],\n    weakTopics: [],\n    difficultyStats: { easy: 0, medium: 0, hard: 0 },\n    totalByDifficulty: { easy: 0, medium: 0, hard: 0 }\n  });\n  const [showQuestionNav, setShowQuestionNav] = useState(false);\n  const [testStartTime, setTestStartTime] = useState(null);\n  const [timeLeft, setTimeLeft] = useState(60 * 60);\n  const timerRef = useRef(null);\n\n  // Format time as MM:SS\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  // Load questions from CSV\n  useEffect(() => {\n    const loadQuestions = async () => {\n      try {\n        const response = await fetch(`http://localhost:5000/serve?filename=output_${chapter}.csv`);\n          \n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }  \n        const csvText = await response.text();\n        \n        Papa.parse(csvText, {\n          header: true,\n          complete: (results) => {\n            const shuffledQuestions = results.data\n              .filter(q => q.Question && q.Question.trim() !== '')\n              .sort(() => Math.random() - 0.5);\n            \n            setQuestions(shuffledQuestions);\n            setUserAnswers(new Array(shuffledQuestions.length).fill(null));\n            setLoading(false);\n            setTestStartTime(Date.now()); // Set test start time when questions load\n          },\n          error: (error) => {\n            console.error('Error parsing CSV:', error);\n            alert('Failed to load test questions. Please try again.');\n            navigate('/');\n          }\n        });\n      } catch (error) {\n        console.error('Error loading questions:', error);\n        alert('Failed to load test questions. Please try again.');\n        navigate('/');\n      }\n    };\n\n    if (chapter) {\n      loadQuestions();\n    } else {\n      alert('Missing chapter information');\n      navigate('/');\n    }\n  }, [chapter, navigate]);\n\n  // Timer logic based on system time\n  useEffect(() => {\n    if (loading || testCompleted || !testStartTime) return;\n\n    const calculateTimeLeft = () => {\n      const elapsedSeconds = Math.floor((Date.now() - testStartTime) / 1000);\n      const remainingSeconds = Math.max(60 * 60 - elapsedSeconds, 0);\n      setTimeLeft(remainingSeconds);\n      \n      if (remainingSeconds <= 0) {\n        handleEndTest(true);\n      }\n    };\n\n    // Calculate immediately\n    calculateTimeLeft();\n\n    // Then set up interval\n    timerRef.current = setInterval(calculateTimeLeft, 1000);\n\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, [loading, testCompleted, testStartTime]);\n\n  // Handle answer selection\n  const handleOptionSelect = (option) => {\n    setSelectedOption(option);\n    const newAnswers = [...userAnswers];\n    newAnswers[currentQuestionIndex] = option;\n    setUserAnswers(newAnswers);\n  };\n\n  // Go to previous question\n  const handlePreviousQuestion = () => {\n    if (currentQuestionIndex > 0) {\n      setCurrentQuestionIndex(prevIndex => prevIndex - 1);\n      setSelectedOption(userAnswers[currentQuestionIndex - 1] || '');\n    }\n  };\n\n  // Go to the next question\n  const handleNextQuestion = () => {\n    if (currentQuestionIndex < questions.length - 1) {\n      setCurrentQuestionIndex(prevIndex => prevIndex + 1);\n      setSelectedOption(userAnswers[currentQuestionIndex + 1] || '');\n    } else {\n      setShowConfirmEndModal(true);\n    }\n  };\n\n  // Jump to specific question\n  const jumpToQuestion = (index) => {\n    setCurrentQuestionIndex(index);\n    setSelectedOption(userAnswers[index] || '');\n  };\n\n  // Calculate test results\n  const calculateResults = useCallback(() => {\n    const results = {\n      score: 0,\n      totalScore: 0,\n      wrongQuestions: [],\n      strongTopics: {},\n      weakTopics: {},\n      difficultyStats: { easy: 0, medium: 0, hard: 0 },\n      totalByDifficulty: { easy: 0, medium: 0, hard: 0 }\n    };\n\n    questions.forEach((question, index) => {\n      const userAnswer = userAnswers[index];\n      const correctAnswerText = question['Correct Option'];\n      const subtopic = question.Subtopic;\n      const subtopicDetail = question['Subtopic Detail'];\n      const difficulty = question.Difficulty?.toLowerCase() || 'e';\n      \n      let points = 1;\n      if (difficulty === 'm') points = 2;\n      if (difficulty === 'h') points = 3;\n      \n      if (difficulty === 'e') results.totalByDifficulty.easy += 1;\n      else if (difficulty === 'm') results.totalByDifficulty.medium += 1;\n      else if (difficulty === 'h') results.totalByDifficulty.hard += 1;\n      \n      results.totalScore += points;\n\n      const correctAnswer = Object.entries(question).find(([key, value]) =>\n        key.startsWith('Option') && value.trim() === correctAnswerText.trim()\n      )?.[0]?.split(' ')[1];\n      \n      if (userAnswer && userAnswer === correctAnswer) {\n        results.score += points;\n        \n        if (difficulty === 'e') results.difficultyStats.easy += 1;\n        else if (difficulty === 'm') results.difficultyStats.medium += 1;\n        else if (difficulty === 'h') results.difficultyStats.hard += 1;\n        \n        if (!results.strongTopics[subtopic]) {\n          results.strongTopics[subtopic] = [];\n        }\n        if (!results.strongTopics[subtopic].includes(subtopicDetail)) {\n          results.strongTopics[subtopic].push(subtopicDetail);\n        }\n      } else {\n        results.wrongQuestions.push({\n          question: question.Question,\n          correctAnswer,\n          userAnswer: userAnswer || 'No answer',\n          subtopic,\n          subtopicDetail\n        });\n        \n        if (!results.weakTopics[subtopic]) {\n          results.weakTopics[subtopic] = [];\n        }\n        if (!results.weakTopics[subtopic].includes(subtopicDetail)) {\n          results.weakTopics[subtopic].push(subtopicDetail);\n        }\n      }\n    });\n    \n    const strongTopicsArray = Object.entries(results.strongTopics).map(([topic, details]) => ({\n      topic,\n      details\n    }));\n    \n    const weakTopicsArray = Object.entries(results.weakTopics).map(([topic, details]) => ({\n      topic,\n      details\n    }));\n    \n    return {\n      ...results,\n      strongTopics: strongTopicsArray,\n      weakTopics: weakTopicsArray,\n      percentScore: (results.score / results.totalScore) * 100\n    };\n  }, [questions, userAnswers]);\n\n  // End the test and submit results\n  const handleEndTest = async (isAutoSubmit = false) => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n    setTestCompleted(true);\n    const results = calculateResults();\n    setAnalytics(results);\n    \n    try {\n      const response = await fetch('http://localhost:5000/submit_test_results', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          email: userEmail,\n          chapter: chapter,\n          score: results.score,\n          totalScore: results.totalScore,\n          percentScore: results.percentScore,\n          strongTopics: results.strongTopics,\n          weakTopics: results.weakTopics,\n          wrongQuestions: results.wrongQuestions,\n          difficultyStats: results.difficultyStats,\n          startTime: testStartTime,\n          endTime: Date.now()\n        }),\n      });\n      \n      const data = await response.json();\n      \n      if (data.success) {\n        localStorage.setItem('testResults', JSON.stringify(results));\n        navigate('/test-results');\n      } else {\n        console.error('Failed to submit test results:', data.message);\n        alert('Test completed, but there was an issue saving your results. ' + \n              (isAutoSubmit ? 'Time expired. ' : '') +\n              'Please contact support.');\n        navigate('/test-results');\n      }\n    } catch (error) {\n      console.error('Error submitting test results:', error);\n      alert('Test completed, but there was an issue saving your results. ' + \n            (isAutoSubmit ? 'Time expired. ' : '') +\n            'Please contact support.');\n      navigate('/test-results');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-amber-50 to-stone-100 font-serif flex items-center justify-center\">\n        <div className=\"text-stone-800 text-xl\">Loading test questions...</div>\n      </div>\n    );\n  }\n\n  const currentQuestion = questions[currentQuestionIndex];\n  const options = ['A', 'B', 'C', 'D'];\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-amber-50 to-stone-100 font-serif relative\">\n      {/* Background pattern */}\n      <div className=\"fixed inset-0 overflow-hidden opacity-10 -z-10 pointer-events-none\">\n        {[...Array(15)].map((_, i) => (\n          <motion.div\n            key={i}\n            className=\"absolute rounded-full bg-stone-400\"\n            style={{\n              top: `${Math.random() * 100}%`,\n              left: `${Math.random() * 100}%`,\n              width: `${Math.random() * 60 + 20}px`,\n              height: `${Math.random() * 60 + 20}px`,\n            }}\n            animate={{\n              y: [0, Math.random() * 50 - 25],\n              opacity: [0.05, 0.1, 0.05],\n            }}\n            transition={{\n              duration: Math.random() * 10 + 15,\n              repeat: Infinity,\n              repeatType: \"reverse\",\n            }}\n          />\n        ))}\n      </div>\n\n      <div className=\"pt-24 pb-12 px-6 max-w-6xl mx-auto flex\">\n        {/* Main content area */}\n        <div className={`${showQuestionNav ? 'mr-8' : ''} flex-1 transition-all duration-300`}>\n          {/* Timer and Progress Bar */}\n          <div className=\"bg-white/50 rounded-xl p-4 mb-6 shadow-md border border-stone-300/50 backdrop-blur-sm flex justify-between items-center\">\n            <div className=\"flex items-center text-stone-800\">\n              <Clock className=\"h-5 w-5 mr-2\" />\n              <span className=\"font-bold\">{formatTime(timeLeft)}</span>\n            </div>\n            <div className=\"text-stone-800\">\n              Question {currentQuestionIndex + 1} of {questions.length}\n            </div>\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              className=\"bg-stone-700/20 text-stone-800 px-3 py-1 rounded-full flex items-center border border-stone-700/30 text-sm\"\n              onClick={() => setShowQuestionNav(!showQuestionNav)}\n            >\n              <Bookmark className=\"h-4 w-4 mr-1\" />\n              {showQuestionNav ? 'Hide Navigation' : 'Question Navigator'}\n            </motion.button>\n          </div>\n          \n          {/* Question Card */}\n          <div className=\"bg-white/70 rounded-xl shadow-lg p-8 mb-8 border border-stone-300/50 backdrop-blur-sm\">\n            <h3 className=\"text-2xl font-bold mb-6 text-stone-800\">{currentQuestion?.Question}</h3>\n            \n            <div className=\"space-y-4\">\n              {options.map((option, index) => (\n                <motion.button\n                  key={option}\n                  whileHover={{ scale: 1.02 }}\n                  whileTap={{ scale: 0.98 }}\n                  className={`w-full text-left p-4 rounded-lg border transition-colors ${\n                    selectedOption === option\n                      ? 'bg-stone-700/10 border-stone-700/50'\n                      : 'bg-white/50 border-stone-300 hover:bg-stone-100/50'\n                  }`}\n                  onClick={() => handleOptionSelect(option)}\n                >\n                  <span className=\"font-medium mr-2 text-stone-800\">{option}.</span>\n                  <span className=\"text-stone-700\">{currentQuestion?.[`Option ${option}`]}</span>\n                </motion.button>\n              ))}\n            </div>\n          </div>\n          \n          {/* Navigation */}\n          <div className=\"flex justify-between\">\n            <div className=\"flex space-x-4\">\n              {currentQuestionIndex > 0 && (\n                <motion.button\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                  className=\"bg-stone-700/20 text-stone-800 px-4 py-2 rounded-full flex items-center border border-stone-700/30\"\n                  onClick={handlePreviousQuestion}\n                >\n                  <ChevronLeft className=\"h-5 w-5 mr-1\" />\n                  Previous\n                </motion.button>\n              )}\n              \n              <motion.button\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                className=\"bg-stone-700/20 text-stone-800 px-4 py-2 rounded-full flex items-center border border-stone-700/30\"\n                onClick={() => setShowConfirmEndModal(true)}\n              >\n                <Flag className=\"h-5 w-5 mr-1\" />\n                End Test\n              </motion.button>\n            </div>\n            \n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              className=\"bg-gradient-to-r from-stone-700 to-stone-600 text-amber-50 px-6 py-2 rounded-full flex items-center shadow-md\"\n              onClick={handleNextQuestion}\n            >\n              {currentQuestionIndex < questions.length - 1 ? (\n                <>\n                  Next <ChevronRight className=\"ml-1 h-5 w-5\" />\n                </>\n              ) : (\n                'Finish Test'\n              )}\n            </motion.button>\n          </div>\n        </div>\n\n        {/* Question Navigation Sidebar - Now persistent when shown */}\n        {showQuestionNav && (\n          <motion.div \n            initial={{ opacity: 0, x: 20 }}\n            animate={{ opacity: 1, x: 0 }}\n            className=\"w-64 bg-white/70 rounded-xl shadow-lg p-4 border border-stone-300/50 backdrop-blur-sm h-fit sticky top-28\"\n          >\n            <h3 className=\"text-lg font-bold mb-4 text-stone-800 flex items-center\">\n              <Bookmark className=\"h-5 w-5 mr-2\" />\n              Question Navigator\n            </h3>\n            <div className=\"grid grid-cols-5 gap-2\">\n              {questions.map((_, index) => (\n                <motion.button\n                  key={index}\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                  className={`w-8 h-8 rounded-full flex items-center justify-center text-sm ${\n                    currentQuestionIndex === index\n                      ? 'bg-stone-700 text-amber-50'\n                      : userAnswers[index]\n                      ? 'bg-stone-700/20 text-stone-800 font-bold border border-stone-700/30'\n                      : 'bg-white/50 text-stone-700 border border-stone-300'\n                  }`}\n                  onClick={() => jumpToQuestion(index)}\n                >\n                  {index + 1}\n                </motion.button>\n              ))}\n            </div>\n            <div className=\"mt-4 text-sm text-stone-600\">\n              <div className=\"flex items-center mb-1\">\n                <div className=\"w-3 h-3 rounded-full bg-stone-700 mr-2\"></div>\n                <span>Current</span>\n              </div>\n              <div className=\"flex items-center mb-1\">\n                <div className=\"w-3 h-3 rounded-full bg-stone-700/20 border border-stone-700/30 mr-2\"></div>\n                <span>Answered</span>\n              </div>\n              <div className=\"flex items-center\">\n                <div className=\"w-3 h-3 rounded-full bg-white/50 border border-stone-300 mr-2\"></div>\n                <span>Unanswered</span>\n              </div>\n            </div>\n          </motion.div>\n        )}\n        \n        {/* Confirmation Modal */}\n        {showConfirmEndModal && (\n          <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm\">\n            <motion.div \n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              className=\"bg-white/80 rounded-xl p-6 max-w-md w-full border border-stone-300/50 backdrop-blur-sm\"\n            >\n              <h3 className=\"text-xl font-bold mb-4 flex items-center text-stone-800\">\n                <AlertCircle className=\"h-6 w-6 text-amber-600 mr-2\" />\n                End Test Confirmation\n              </h3>\n              <p className=\"mb-6 text-stone-700\">\n                Are you sure you want to end the test? You have answered {userAnswers.filter(a => a !== null).length} out of {questions.length} questions.\n              </p>\n              <div className=\"flex justify-end space-x-4\">\n                <motion.button\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                  className=\"px-4 py-2 border border-stone-300 rounded-full hover:bg-stone-100 text-stone-800\"\n                  onClick={() => setShowConfirmEndModal(false)}\n                >\n                  Continue Test\n                </motion.button>\n                <motion.button\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                  className=\"px-4 py-2 bg-gradient-to-r from-stone-700 to-stone-600 text-amber-50 rounded-full hover:opacity-90\"\n                  onClick={() => {\n                    setShowConfirmEndModal(false);\n                    handleEndTest();\n                  }}\n                >\n                  End Test\n                </motion.button>\n              </div>\n            </motion.div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TakeTest;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}