{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useNavigate}from'react-router-dom';import{User}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=()=>{const navigate=useNavigate();const[dropdownOpen,setDropdownOpen]=useState(false);const dropdownRef=useRef(null);const userEmail=localStorage.getItem('userEmail');const userName=localStorage.getItem('userName');const userCourse=localStorage.getItem('userCourse');// Retrieve course\nconst toggleDropdown=()=>{setDropdownOpen(prev=>!prev);};const handleLogout=()=>{localStorage.removeItem('userEmail');navigate('/',{replace:true});// Prevents going back to the previous page\nwindow.location.reload();// Ensures the login page reloads to clear previous session state\n};const handleProfilePage=()=>{navigate('/profile');};// Close dropdown when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setDropdownOpen(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 bg-purple-600 text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold ml-4\",children:userCourse?`Course: ${userCourse}`:\"Course: Not Set\"}),/*#__PURE__*/_jsxs(\"div\",{ref:dropdownRef,className:\"relative flex items-center mr-4\",children:[userName&&/*#__PURE__*/_jsx(\"span\",{className:\"mr-2 text-lg\",children:userName}),/*#__PURE__*/_jsx(\"div\",{className:\"cursor-pointer\",onClick:toggleDropdown,children:/*#__PURE__*/_jsx(User,{size:40,className:\"text-white\"})}),dropdownOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-48 bg-white text-purple-600 rounded shadow-lg z-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-2 hover:bg-gray-200 cursor-pointer\",onClick:handleProfilePage,children:\"Profile\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-2 hover:bg-gray-200 cursor-pointer\",onClick:handleLogout,children:\"Logout\"})]})]})]});};export default Header;","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","User","jsx","_jsx","jsxs","_jsxs","Header","navigate","dropdownOpen","setDropdownOpen","dropdownRef","userEmail","localStorage","getItem","userName","userCourse","toggleDropdown","prev","handleLogout","removeItem","replace","window","location","reload","handleProfilePage","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","className","children","ref","onClick","size"],"sources":["/home/pes2ug22cs632/gen_ai/App/src/Header.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { User } from 'lucide-react';\n\nconst Header = () => {\n    const navigate = useNavigate();\n    const [dropdownOpen, setDropdownOpen] = useState(false);\n    const dropdownRef = useRef(null);\n    \n    const userEmail = localStorage.getItem('userEmail');\n    const userName = localStorage.getItem('userName');\n    const userCourse = localStorage.getItem('userCourse'); // Retrieve course\n\n    const toggleDropdown = () => {\n        setDropdownOpen((prev) => !prev);\n    };\n\n    const handleLogout = () => {\n        localStorage.removeItem('userEmail');\n        navigate('/', { replace: true }); // Prevents going back to the previous page\n        window.location.reload(); // Ensures the login page reloads to clear previous session state\n    };\n\n    const handleProfilePage = () => {\n        navigate('/profile');\n    };\n\n    // Close dropdown when clicking outside\n    useEffect(() => {\n        const handleClickOutside = (event) => {\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n                setDropdownOpen(false);\n            }\n        };\n\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, []);\n\n    return (\n        <div className=\"flex justify-between items-center p-4 bg-purple-600 text-white\">\n            {/* Display Course on the Left - Bigger Text */}\n            <div className=\"text-2xl font-bold ml-4\">\n                {userCourse ? `Course: ${userCourse}` : \"Course: Not Set\"}\n            </div>\n\n            {/* User Info & Dropdown on the Right */}\n            <div ref={dropdownRef} className=\"relative flex items-center mr-4\">\n                {/* Display User Name Next to Icon */}\n                {userName && <span className=\"mr-2 text-lg\">{userName}</span>}\n\n                {/* User Icon */}\n                <div className=\"cursor-pointer\" onClick={toggleDropdown}>\n                    <User size={40} className=\"text-white\" />\n                </div>\n\n                {dropdownOpen && (\n                    <div className=\"absolute right-0 mt-2 w-48 bg-white text-purple-600 rounded shadow-lg z-10\">\n                        <div className=\"px-4 py-2 hover:bg-gray-200 cursor-pointer\" onClick={handleProfilePage}>\n                            Profile\n                        </div>\n                        <div className=\"px-4 py-2 hover:bg-gray-200 cursor-pointer\" onClick={handleLogout}>\n                            Logout\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default Header;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,IAAI,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,KAAM,CAAAC,MAAM,CAAGA,CAAA,GAAM,CACjB,KAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACQ,YAAY,CAAEC,eAAe,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAAAa,WAAW,CAAGX,MAAM,CAAC,IAAI,CAAC,CAEhC,KAAM,CAAAY,SAAS,CAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CACnD,KAAM,CAAAC,QAAQ,CAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CACjD,KAAM,CAAAE,UAAU,CAAGH,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAAE;AAEvD,KAAM,CAAAG,cAAc,CAAGA,CAAA,GAAM,CACzBP,eAAe,CAAEQ,IAAI,EAAK,CAACA,IAAI,CAAC,CACpC,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACvBN,YAAY,CAACO,UAAU,CAAC,WAAW,CAAC,CACpCZ,QAAQ,CAAC,GAAG,CAAE,CAAEa,OAAO,CAAE,IAAK,CAAC,CAAC,CAAE;AAClCC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAE;AAC9B,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC5BjB,QAAQ,CAAC,UAAU,CAAC,CACxB,CAAC,CAED;AACAT,SAAS,CAAC,IAAM,CACZ,KAAM,CAAA2B,kBAAkB,CAAIC,KAAK,EAAK,CAClC,GAAIhB,WAAW,CAACiB,OAAO,EAAI,CAACjB,WAAW,CAACiB,OAAO,CAACC,QAAQ,CAACF,KAAK,CAACG,MAAM,CAAC,CAAE,CACpEpB,eAAe,CAAC,KAAK,CAAC,CAC1B,CACJ,CAAC,CAEDqB,QAAQ,CAACC,gBAAgB,CAAC,WAAW,CAAEN,kBAAkB,CAAC,CAC1D,MAAO,IAAM,CACTK,QAAQ,CAACE,mBAAmB,CAAC,WAAW,CAAEP,kBAAkB,CAAC,CACjE,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIpB,KAAA,QAAK4B,SAAS,CAAC,gEAAgE,CAAAC,QAAA,eAE3E/B,IAAA,QAAK8B,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CACnCnB,UAAU,CAAG,WAAWA,UAAU,EAAE,CAAG,iBAAiB,CACxD,CAAC,cAGNV,KAAA,QAAK8B,GAAG,CAAEzB,WAAY,CAACuB,SAAS,CAAC,iCAAiC,CAAAC,QAAA,EAE7DpB,QAAQ,eAAIX,IAAA,SAAM8B,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEpB,QAAQ,CAAO,CAAC,cAG7DX,IAAA,QAAK8B,SAAS,CAAC,gBAAgB,CAACG,OAAO,CAAEpB,cAAe,CAAAkB,QAAA,cACpD/B,IAAA,CAACF,IAAI,EAACoC,IAAI,CAAE,EAAG,CAACJ,SAAS,CAAC,YAAY,CAAE,CAAC,CACxC,CAAC,CAELzB,YAAY,eACTH,KAAA,QAAK4B,SAAS,CAAC,4EAA4E,CAAAC,QAAA,eACvF/B,IAAA,QAAK8B,SAAS,CAAC,4CAA4C,CAACG,OAAO,CAAEZ,iBAAkB,CAAAU,QAAA,CAAC,SAExF,CAAK,CAAC,cACN/B,IAAA,QAAK8B,SAAS,CAAC,4CAA4C,CAACG,OAAO,CAAElB,YAAa,CAAAgB,QAAA,CAAC,QAEnF,CAAK,CAAC,EACL,CACR,EACA,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAA5B,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}