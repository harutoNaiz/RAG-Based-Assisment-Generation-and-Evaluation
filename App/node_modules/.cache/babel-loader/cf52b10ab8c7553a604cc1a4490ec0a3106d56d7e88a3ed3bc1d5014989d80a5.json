{"ast":null,"code":"// chapters.js\nimport React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{motion}from'framer-motion';import{ChevronDown,ChevronUp}from'lucide-react';import Header from'./Header';// Adjust the path as necessary\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChaptersPage=()=>{const navigate=useNavigate();// Assume the user's email is stored in localStorage after login.\nconst userEmail=localStorage.getItem('userEmail');// Data structure for chapters\nconst[chaptersData,setChaptersData]=useState([]);const[expandedChapter,setExpandedChapter]=useState(null);useEffect(()=>{// On component mount, fetch the chapters from the Flask backend\nfetch('http://localhost:5000/get-chapters',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:userEmail})}).then(res=>res.json()).then(data=>{if(data.chapters){setChaptersData(data.chapters);}else{console.error('Error:',data.error||'Unknown error');}}).catch(err=>{console.error('Error fetching chapters:',err);});},[userEmail]);const handleChapterClick=index=>{setExpandedChapter(expandedChapter===index?null:index);};const handleTopicClick=(chapterName,topic)=>{// Navigate to a topic page (to be implemented).\nnavigate(`/topic/${chapterName}/${topic}`);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 text-white p-6\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-16\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-bold mb-8 text-center\",children:\"Chapters\"}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-3xl mx-auto\",children:chaptersData.length>0?chaptersData.map((chapter,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(motion.div,{whileHover:{scale:1.02},onClick:()=>handleChapterClick(index),className:\"flex justify-between items-center bg-white bg-opacity-20 p-4 rounded-lg cursor-pointer\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl\",children:chapter.chapterName}),expandedChapter===index?/*#__PURE__*/_jsx(ChevronUp,{}):/*#__PURE__*/_jsx(ChevronDown,{})]}),expandedChapter===index&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},className:\"mt-2 ml-4\",children:chapter.topics.map((topic,idx)=>/*#__PURE__*/_jsx(motion.div,{whileHover:{scale:1.02},onClick:()=>handleTopicClick(chapter.chapterName,topic),className:\"bg-white bg-opacity-20 p-3 rounded-lg my-1 cursor-pointer\",children:topic},idx))})]},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No chapters found for this user\\u2019s course.\"})})]})]});};export default ChaptersPage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","motion","ChevronDown","ChevronUp","Header","jsx","_jsx","jsxs","_jsxs","ChaptersPage","navigate","userEmail","localStorage","getItem","chaptersData","setChaptersData","expandedChapter","setExpandedChapter","fetch","method","headers","body","JSON","stringify","email","then","res","json","data","chapters","console","error","catch","err","handleChapterClick","index","handleTopicClick","chapterName","topic","className","children","length","map","chapter","div","whileHover","scale","onClick","initial","opacity","animate","topics","idx"],"sources":["/home/pes2ug22cs632/gen_ai/App/src/chapters.js"],"sourcesContent":["// chapters.js\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport { ChevronDown, ChevronUp } from 'lucide-react';\nimport Header from './Header'; // Adjust the path as necessary\n\nconst ChaptersPage = () => {\n  const navigate = useNavigate();\n  \n  // Assume the user's email is stored in localStorage after login.\n  const userEmail = localStorage.getItem('userEmail');\n  \n  // Data structure for chapters\n  const [chaptersData, setChaptersData] = useState([]);\n  const [expandedChapter, setExpandedChapter] = useState(null);\n\n  useEffect(() => {\n    // On component mount, fetch the chapters from the Flask backend\n    fetch('http://localhost:5000/get-chapters', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ email: userEmail })\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.chapters) {\n          setChaptersData(data.chapters);\n        } else {\n          console.error('Error:', data.error || 'Unknown error');\n        }\n      })\n      .catch((err) => {\n        console.error('Error fetching chapters:', err);\n      });\n  }, [userEmail]);\n\n  const handleChapterClick = (index) => {\n    setExpandedChapter(expandedChapter === index ? null : index);\n  };\n\n  const handleTopicClick = (chapterName, topic) => {\n    // Navigate to a topic page (to be implemented).\n    navigate(`/topic/${chapterName}/${topic}`);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 text-white p-6\">\n      {/* Using the separated Header component */}\n      <Header />\n      <div className=\"mt-16\">\n        <h2 className=\"text-4xl font-bold mb-8 text-center\">\n          Chapters\n        </h2>\n        <div className=\"max-w-3xl mx-auto\">\n          {chaptersData.length > 0 ? (\n            chaptersData.map((chapter, index) => (\n              <div key={index} className=\"mb-4\">\n                <motion.div\n                  whileHover={{ scale: 1.02 }}\n                  onClick={() => handleChapterClick(index)}\n                  className=\"flex justify-between items-center bg-white bg-opacity-20 p-4 rounded-lg cursor-pointer\"\n                >\n                  <h3 className=\"text-2xl\">{chapter.chapterName}</h3>\n                  {expandedChapter === index ? <ChevronUp /> : <ChevronDown />}\n                </motion.div>\n                {expandedChapter === index && (\n                  <motion.div\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    className=\"mt-2 ml-4\"\n                  >\n                    {chapter.topics.map((topic, idx) => (\n                      <motion.div\n                        key={idx}\n                        whileHover={{ scale: 1.02 }}\n                        onClick={() => handleTopicClick(chapter.chapterName, topic)}\n                        className=\"bg-white bg-opacity-20 p-3 rounded-lg my-1 cursor-pointer\"\n                      >\n                        {topic}\n                      </motion.div>\n                    ))}\n                  </motion.div>\n                )}\n              </div>\n            ))\n          ) : (\n            <p>No chapters found for this userâ€™s course.</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChaptersPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}